---
sidebar_position: 4
---

import CodeBlock from "@theme/CodeBlock";
import gdaForwarder from "!!raw-loader!@site/src/abis/gdaForwarder.json";
import BonadocsWidget from "@bonadocs/widget";

# GDAv1Forwarder

The **GDAv1Forwarder** contract is a Superfluid forwarder that implements the General Distribution Agreement (GDA) related functions.
It is a contract specifically made immutable in order to facilitate the interaction with [Distributions](/docs/protocol/distributions/overview.mdx) through the General Distribution Agreement (GDA).

This contract is optimized for interaction that would happen from outside the blockchain (off-chain).
For more information on the best practices regarding this interaction, please refer to the [SDK Section](/docs/sdk/quickstart) section of this documentation.

## Contract Address

The `GDAv1Forwarder` contract address is the same on all Superfluid chains:

```
0x6DA13Bde224A05a288748d857b9e7DDEffd1dE08
```


## ABI

In order to interact with the `GDAv1Forwarder` contract, you can use the following ABI:

<div>
<details>
<summary>Click here to show `GDAv1Forwarder` ABI</summary>
<p>

<CodeBlock language="json">{gdaForwarder}</CodeBlock>

</p>
</details>
</div>

## \_gda

```solidity
contract IGeneralDistributionAgreementV1 _gda
```

## Fn constructor

```solidity
function constructor(
    contract ISuperfluid host
)
    public
```

#### Parameters

| Name   | Type                 | Description |
| :----- | :------------------- | :---------- |
| `host` | contract ISuperfluid |             |

## Fn createPool

<BonadocsWidget widgetConfigUri="ipfs://bafkreihna7h5d6tweo36atgsqbhvqdjdwq2374i3bdel7ko4cyurfe3zx4" contract="GDAv1Forwarder" functionKey="0x0779d365" />

_Creates a new Superfluid Pool._

#### Parameters

| Name     | Type                      | Description                                                                    |
| :------- | :------------------------ | :----------------------------------------------------------------------------- |
| `token`  | contract ISuperfluidToken | The Super Token address.                                                       |
| `admin`  | address                   | The pool admin address.                                                        |
| `config` | struct PoolConfig         | The pool configuration (see PoolConfig in IGeneralDistributionAgreementV1.sol) |

#### Return Values

| Name      | Type                     | Description                                                           |
| :-------- | :----------------------- | :-------------------------------------------------------------------- |
| `success` | bool                     | A boolean value indicating whether the pool was created successfully. |
| `pool`    | contract ISuperfluidPool | The address of the deployed Superfluid Pool                           |

## Fn updateMemberUnits

<BonadocsWidget widgetConfigUri="ipfs://bafkreihna7h5d6tweo36atgsqbhvqdjdwq2374i3bdel7ko4cyurfe3zx4" contract="GDAv1Forwarder" functionKey="0x398c74e1" />

_Updates the units of a pool member._

#### Parameters

| Name            | Type                     | Description                          |
| :-------------- | :----------------------- | :----------------------------------- |
| `pool`          | contract ISuperfluidPool | The Superfluid Pool to update.       |
| `memberAddress` | address                  | The address of the member to update. |
| `newUnits`      | uint128                  | The new units of the member.         |
| `userData`      | bytes                    | User-specific data.                  |

## Fn claimAll

<BonadocsWidget widgetConfigUri="ipfs://bafkreibd2smont3drvknabftn52vk3qdyxyosvnjmytb4giopyv3wha5x4" contract="GDAv1Forwarder" functionKey="0xd2c0d542" />

_Claims all tokens from the pool._

#### Parameters

| Name            | Type                     | Description                             |
| :-------------- | :----------------------- | :-------------------------------------- |
| `pool`          | contract ISuperfluidPool | The Superfluid Pool to claim from.      |
| `memberAddress` | address                  | The address of the member to claim for. |
| `userData`      | bytes                    | User-specific data.                     |

## Fn connectPool

<BonadocsWidget widgetConfigUri="ipfs://bafkreibd2smont3drvknabftn52vk3qdyxyosvnjmytb4giopyv3wha5x4" contract="GDAv1Forwarder" functionKey="0xf0b7b915" />

_Connects a pool member to `pool`._

#### Parameters

| Name       | Type                     | Description                     |
| :--------- | :----------------------- | :------------------------------ |
| `pool`     | contract ISuperfluidPool | The Superfluid Pool to connect. |
| `userData` | bytes                    | User-specific data.             |

#### Return Values

| Name  | Type | Description                                                       |
| :---- | :--- | :---------------------------------------------------------------- |
| `[0]` | bool | A boolean value indicating whether the connection was successful. |

## Fn disconnectPool

<BonadocsWidget widgetConfigUri="ipfs://bafkreibd2smont3drvknabftn52vk3qdyxyosvnjmytb4giopyv3wha5x4" contract="GDAv1Forwarder" functionKey="0x30925b79" />

_Disconnects a pool member from `pool`._

#### Parameters

| Name       | Type                     | Description                        |
| :--------- | :----------------------- | :--------------------------------- |
| `pool`     | contract ISuperfluidPool | The Superfluid Pool to disconnect. |
| `userData` | bytes                    | User-specific data.                |

#### Return Values

| Name  | Type | Description                                                          |
| :---- | :--- | :------------------------------------------------------------------- |
| `[0]` | bool | A boolean value indicating whether the disconnection was successful. |

## Fn distribute

<BonadocsWidget widgetConfigUri="ipfs://bafkreibd2smont3drvknabftn52vk3qdyxyosvnjmytb4giopyv3wha5x4" contract="GDAv1Forwarder" functionKey="0x6d1007a6" />

_Tries to distribute `requestedAmount` amount of `token` from `from` to `pool`._

#### Parameters

| Name              | Type                      | Description                                  |
| :---------------- | :------------------------ | :------------------------------------------- |
| `token`           | contract ISuperfluidToken | The Super Token address.                     |
| `from`            | address                   | The address from which to distribute tokens. |
| `pool`            | contract ISuperfluidPool  | The Superfluid Pool address.                 |
| `requestedAmount` | uint256                   | The amount of tokens to distribute.          |
| `userData`        | bytes                     | User-specific data.                          |

#### Return Values

| Name  | Type | Description                                                         |
| :---- | :--- | :------------------------------------------------------------------ |
| `[0]` | bool | A boolean value indicating whether the distribution was successful. |

## Fn distributeFlow

<BonadocsWidget widgetConfigUri="ipfs://bafkreibd2smont3drvknabftn52vk3qdyxyosvnjmytb4giopyv3wha5x4" contract="GDAv1Forwarder" functionKey="0x5a6c6dbc" />

_Tries to distribute flow at `requestedFlowRate` of `token` from `from` to `pool`._

#### Parameters

| Name                | Type                      | Description                                  |
| :------------------ | :------------------------ | :------------------------------------------- |
| `token`             | contract ISuperfluidToken | The Super Token address.                     |
| `from`              | address                   | The address from which to distribute tokens. |
| `pool`              | contract ISuperfluidPool  | The Superfluid Pool address.                 |
| `requestedFlowRate` | int96                     | The flow rate of tokens to distribute.       |
| `userData`          | bytes                     | User-specific data.                          |

#### Return Values

| Name  | Type | Description                                                         |
| :---- | :--- | :------------------------------------------------------------------ |
| `[0]` | bool | A boolean value indicating whether the distribution was successful. |

## Fn isPool

<BonadocsWidget widgetConfigUri="ipfs://bafkreibd2smont3drvknabftn52vk3qdyxyosvnjmytb4giopyv3wha5x4" contract="GDAv1Forwarder" functionKey="0x7b2cc0da" />

_Checks if the specified account is a pool._

#### Parameters

| Name      | Type                      | Description                   |
| :-------- | :------------------------ | :---------------------------- |
| `token`   | contract ISuperfluidToken | The Super Token address.      |
| `account` | address                   | The account address to check. |

#### Return Values

| Name  | Type | Description                                               |
| :---- | :--- | :-------------------------------------------------------- |
| `[0]` | bool | A boolean value indicating whether the account is a pool. |

## Fn getNetFlow

<BonadocsWidget widgetConfigUri="ipfs://bafkreibd2smont3drvknabftn52vk3qdyxyosvnjmytb4giopyv3wha5x4" contract="GDAv1Forwarder" functionKey="0xe8e7e2d1" />

_Gets the GDA net flow rate for the specified account._

#### Parameters

| Name      | Type                      | Description              |
| :-------- | :------------------------ | :----------------------- |
| `token`   | contract ISuperfluidToken | The Super Token address. |
| `account` | address                   | The account address.     |

#### Return Values

| Name  | Type  | Description                            |
| :---- | :---- | :------------------------------------- |
| `[0]` | int96 | The gda net flow rate for the account. |

## Fn getFlowDistributionFlowRate

<BonadocsWidget widgetConfigUri="ipfs://bafkreibd2smont3drvknabftn52vk3qdyxyosvnjmytb4giopyv3wha5x4" contract="GDAv1Forwarder" functionKey="0x44999ff7" />

_Gets the flow rate of tokens between the specified accounts._

#### Parameters

| Name    | Type                      | Description                              |
| :------ | :------------------------ | :--------------------------------------- |
| `token` | contract ISuperfluidToken | The Super Token address.                 |
| `from`  | address                   | The sender address.                      |
| `to`    | contract ISuperfluidPool  | The receiver address (the pool address). |

#### Return Values

| Name  | Type  | Description                     |
| :---- | :---- | :------------------------------ |
| `[0]` | int96 | The flow distribution flow rate |

## Fn getPoolAdjustmentFlowRate

<BonadocsWidget widgetConfigUri="ipfs://bafkreibd2smont3drvknabftn52vk3qdyxyosvnjmytb4giopyv3wha5x4" contract="GDAv1Forwarder" functionKey="0x4e9ced57" />

_Gets the pool adjustment flow rate for the specified pool._

#### Parameters

| Name   | Type    | Description       |
| :----- | :------ | :---------------- |
| `pool` | address | The pool address. |

#### Return Values

| Name  | Type  | Description                    |
| :---- | :---- | :----------------------------- |
| `[0]` | int96 | The pool adjustment flow rate. |

## Fn estimateFlowDistributionActualFlowRate

<BonadocsWidget widgetConfigUri="ipfs://bafkreibd2smont3drvknabftn52vk3qdyxyosvnjmytb4giopyv3wha5x4" contract="GDAv1Forwarder" functionKey="0x4d5c91ec" />

_Estimates the actual flow rate for flow distribution to the specified pool._

#### Parameters

| Name                | Type                      | Description              |
| :------------------ | :------------------------ | :----------------------- |
| `token`             | contract ISuperfluidToken | The Super Token address. |
| `from`              | address                   | The sender address.      |
| `to`                | contract ISuperfluidPool  | The pool address.        |
| `requestedFlowRate` | int96                     | The requested flow rate. |

#### Return Values

| Name                        | Type  | Description |
| :-------------------------- | :---- | :---------- |
| `actualFlowRate`            | int96 |             |
| `totalDistributionFlowRate` | int96 |             |

## Fn estimateDistributionActualAmount

<BonadocsWidget widgetConfigUri="ipfs://bafkreibd2smont3drvknabftn52vk3qdyxyosvnjmytb4giopyv3wha5x4" contract="GDAv1Forwarder" functionKey="0xeccfc6a5" />

_Estimates the actual amount for distribution to the specified pool._

#### Parameters

| Name              | Type                      | Description              |
| :---------------- | :------------------------ | :----------------------- |
| `token`           | contract ISuperfluidToken | The Super Token address. |
| `from`            | address                   | The sender address.      |
| `to`              | contract ISuperfluidPool  | The pool address.        |
| `requestedAmount` | uint256                   | The requested amount.    |

#### Return Values

| Name           | Type    | Description                         |
| :------------- | :------ | :---------------------------------- |
| `actualAmount` | uint256 | The actual amount for distribution. |

## Fn isMemberConnected

<BonadocsWidget widgetConfigUri="ipfs://bafkreibd2smont3drvknabftn52vk3qdyxyosvnjmytb4giopyv3wha5x4" contract="GDAv1Forwarder" functionKey="0xc782eb9c" />

_Checks if the specified member is connected to the pool._

#### Parameters

| Name     | Type                     | Description                  |
| :------- | :----------------------- | :--------------------------- |
| `pool`   | contract ISuperfluidPool | The Superfluid Pool address. |
| `member` | address                  | The member address.          |

#### Return Values

| Name  | Type | Description                                                             |
| :---- | :--- | :---------------------------------------------------------------------- |
| `[0]` | bool | A boolean value indicating whether the member is connected to the pool. |

## Fn getPoolAdjustmentFlowInfo

<BonadocsWidget widgetConfigUri="ipfs://bafkreihna7h5d6tweo36atgsqbhvqdjdwq2374i3bdel7ko4cyurfe3zx4" contract="GDAv1Forwarder" functionKey="0x37bd42e0" />

_Gets the pool adjustment flow information for the specified pool._

#### Parameters

| Name   | Type                     | Description       |
| :----- | :----------------------- | :---------------- |
| `pool` | contract ISuperfluidPool | The pool address. |

#### Return Values

| Name  | Type    | Description                                             |
| :---- | :------ | :------------------------------------------------------ |
| `[0]` | address | The pool admin, pool ID, and pool adjustment flow rate. |
| `[1]` | bytes32 |                                                         |
| `[2]` | int96   |                                                         |
